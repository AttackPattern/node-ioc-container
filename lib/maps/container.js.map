{"version":3,"sources":["container.js"],"names":["Container","_this","this","_classCallCheck","_defineProperty","Target","factory","Error","concat","registrations","args","arguments","length","undefined","constructor","_construct","_toConsumableArray","__ctorArgs","Array","fill","map","arg","index","name","resolve","inject","_len","_key","property","description"],"mappings":"+6CAAqBA,UACnB,SAAAA,IAAc,IAAAC,EAAAC,KAAAC,gBAAAD,KAAAF,GAAAI,gBAAAF,KAAA,WAIH,SAACG,EAAQC,GAClB,GAAuB,mBAAZA,EACT,MAAM,IAAIC,MAAJ,2BAAAC,OAAqCH,EAArC,yBAGRJ,EAAKQ,cAAcJ,GAAUC,IATjBF,gBAAAF,KAAA,UAYJ,SAACG,GAAsB,IAAdK,EAAc,EAAAC,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxB,GAAIV,EAAKQ,cAAcJ,GACrB,OAAOJ,EAAKQ,cAAcJ,GAAQJ,GAGpC,KAAMI,aAAkBS,aACtB,MAAM,IAAIP,MAAJ,4BAAAC,OAAsCH,EAAtC,MAGR,OAAAU,WAAWV,EAAXW,oBAAsBX,EAAOY,YAAc,IAAIC,MAAMR,EAAKE,QAAU,GAAGO,KAAK,OAAOC,IAAI,SAACC,EAAKC,GAAN,OAAgBZ,EAAKY,IAAUZ,EAAKW,IAAQX,EAAKW,MAAAA,OAAD,EAACA,EAAKE,OAAUF,GAAOpB,EAAKuB,QAAQH,SApB3KnB,KAAKO,cAAgB,IAFJT,SACnByB,SAAA,IAAA,IAAAC,EAAAf,UAAAC,OAAAF,EAAA,IAAAQ,MAAAQ,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAjB,EAAAiB,GAAAhB,UAAAgB,GAAc,OAAA,SAAAtB,EAAAuB,EAAAC,GA2BZxB,EAAOY,WAAaP","file":"../container.js","sourcesContent":["export default class Container {\n  constructor() {\n    this.registrations = {};\n  }\n\n  register = (Target, factory) => {\n    if (typeof factory !== 'function') {\n      throw new Error(`Container registration '${Target}' was not a function`);\n    }\n\n    this.registrations[Target] = factory;\n  }\n\n  resolve = (Target, args = {}) => {\n    if (this.registrations[Target]) {\n      return this.registrations[Target](this);\n    }\n\n    if (!(Target instanceof constructor)) {\n      throw new Error(`Registration not found: \"${Target}\"`);\n    }\n\n    return new Target(...(Target.__ctorArgs || new Array(args.length || 0).fill(null)).map((arg, index) => args[index] || args[arg] || args[arg?.name] || (arg && this.resolve(arg))));\n  }\n}\n\nexport function inject(...args) {\n  return (Target, property, description) => {\n    Target.__ctorArgs = args;\n  };\n}\n"]}