{"version":3,"sources":["container.js"],"names":["Container","_this","this","_classCallCheck","Object","defineProperty","configurable","enumerable","writable","value","Target","factory","Error","concat","registrations","constructor","args","map","arg","resolve","Function","prototype","bind","apply","_toConsumableArray","inject","_len","arguments","length","Array","_key","property","description","__ctorArgs"],"mappings":"8WAAqBA,UACnB,SAAAA,IAAc,IAAAC,EAAAC,KAAAC,gBAAAD,KAAAF,GAAAI,OAAAC,eAAAH,KAAA,YAAAI,cAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,MAIH,SAACC,EAAQC,GAClB,GAAuB,mBAAZA,EACT,MAAM,IAAIC,MAAJ,2BAAAC,OAAqCH,EAArC,yBAGRT,EAAKa,cAAcJ,GAAUC,KATjBP,OAAAC,eAAAH,KAAA,WAAAI,cAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,MAAA,SAAAC,GAaZ,GAAIT,EAAKa,cAAcJ,GAbX,OAAAT,EAAAa,cAAAJ,GAAAT,GAAA,KAAAS,aAAAK,aAAA,MAAA,IAAAH,MAAA,4BAAAC,OAAAH,EAAA,MAKZ,IAAAM,GAAIN,EAAOC,gBAAwBM,IAAA,SAAAC,GAAA,OAAAjB,EAAAkB,QAAAD,KACjC,OAAA,IAAAE,SAAAC,UAAAC,KAAAC,MAAMb,GAAN,MAAAG,OAAAW,mBAAMR,SALRd,KAAKY,kBASN,SAAAW,SAAA,IAAA,IAAAC,EAAAC,UAAAC,OAAAZ,EAAA,IAAAa,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAd,EAAAc,GAAAH,UAAAG,GAVa,OAAA,SAAApB,EAAAqB,EAAAC,GAAAtB,EAAAuB,WAAAjB","file":"../container.js","sourcesContent":["export default class Container {\n  constructor() {\n    this.registrations = {};\n  }\n\n  register = (Target, factory) => {\n    if (typeof factory !== 'function') {\n      throw new Error(`Container registration '${Target}' was not a function`);\n    }\n\n    this.registrations[Target] = factory;\n  }\n\n  resolve = Target => {\n    if (this.registrations[Target]) {\n      return this.registrations[Target](this);\n    }\n\n    if (!(Target instanceof constructor)) {\n      throw new Error(`Registration not found: \"${Target}\"`);\n    }\n\n    let args = (Target.__ctorArgs || []).map(arg => this.resolve(arg));\n    return new Target(...args);\n  }\n}\n\nexport function inject(...args) {\n  return (Target, property, description) => {\n    Target.__ctorArgs = args;\n  };\n}\n"]}