{"version":3,"sources":["container.js"],"names":["inject","_len","arguments","length","args","Array","_key","Target","property","description","registrations","Container","_this","this","_classCallCheck3","default","register","factory","Error","resolve","constructor","__ctorArgs","map","arg","Function","prototype","bind","apply","concat","_toConsumableArray3"],"mappings":"qFAQK,QAAAA,UAAA,IAAA,GAAAC,GAAAC,UAAAC,OAAAC,EAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,EAoBH,OAAO,UAACC,EAAQC,EAAUC,GAlBxBF,EAAKG,WAAcH,+VAFlBP,OAAAA,UARgBW,WACnB,QAAAA,KAAc,GAAAC,GAAAC,MAAA,EAAAC,iBAAAC,SAAAF,KAAAF,GAAAE,KAIdG,SAAW,SAACT,EAAQU,GAClB,GAAuB,kBAAZA,GACT,KAAM,IAAIC,OAAJ,2BAAqCX,EAArC,uBAGRK,GAAKF,cAAcH,GAAUU,GATjBJ,KAYdM,QAAU,SAAAZ,GACR,GAAIK,EAAKF,cAAcH,GACrB,MAYUP,GAAAA,cAZgBO,IAG5B,MAAMA,YAAkBa,cAlBPT,KAAAA,IACnBO,OADmBP,4BACLJ,EADKI,IACL,IAAAP,IAAAG,EAAAc,gBAAAC,IAAA,SAAAC,GAAA,MAAAX,GAAAO,QAAAI,IAsBZ,OAAA,KAAAC,SAAAC,UAAAC,KAAAC,MAAWpB,GAAX,MAAAqB,QAAA,EAAAC,oBAAAd,SAAqBX,OArBrBS,KAAKH,kCAFYC","file":"../container.js","sourcesContent":["export default class Container {\n  constructor() {\n    this.registrations = {};\n  }\n\n  register = (Target, factory) => {\n    if (typeof factory !== 'function') {\n      throw new Error(`Container registration '${Target}' was not a function`);\n    }\n\n    this.registrations[Target] = factory;\n  }\n\n  resolve = Target => {\n    if (this.registrations[Target]) {\n      return this.registrations[Target]();\n    }\n\n    if (!(Target instanceof constructor)) {\n      throw new Error(`Registration not found: \"${Target}\"`);\n    }\n\n    let args = (Target.__ctorArgs || []).map(arg => this.resolve(arg));\n    return new Target(...args);\n  }\n}\n\nexport function inject(...args) {\n  return (Target, property, description) => {\n    Target.__ctorArgs = args;\n  };\n}\n"]}